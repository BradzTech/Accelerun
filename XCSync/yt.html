<!DOCTYPE html>
<html>
<head>
	<title>Accelerun YouTube Player</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<style>
		body {
			margin: 0;
			background-color: #2c2030;
		}
		iframe {
			width: 100%;
			height: 100vh;
		}
	</style>
</head>
<body>
    <div id="player"></div>

    <script>
    var tag = document.createElement('script');
    tag.src = 'https://www.youtube.com/iframe_api';
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
      
    var player;
    function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
            height: '240',
            width: '426',
            playerVars: {
	            'playsinline': '1',
	            'controls': '0'
          	},
          	events: {
            	//'onReady': onPlayerReady,
                //'onStateChange': onPlayerStateChange
            }
        });
    }
      
    function playVideo(videoId) {
	    player.loadVideoById({
	        'videoId': videoId,
	        'suggestedQuality': 'small'
        });
        player.playVideo();
    }
    
    var timeout = 0;
    function setPlaybackRate(rate) {
	    if (timeout > 0) {
		    clearTimeout(timeout);
	    }
	    timeout = setTimeout(function() {
		    player.setPlaybackRate(rate);
	    }, 600);
    }
    
    window.addEventListener("visibilitychange", function (event) {
    	event.stopPropagation();
	}, true);
    </script>
  </body>
</html>
